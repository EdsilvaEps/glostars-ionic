<ion-view>


    <ion-content delegate-handle="content">
        <!-- profile picture and status -->
        <div class= "list" style="padding-top:10px;" ui-sref="app.edit({id:myUser})">
            <a class="item item-thumbnail-left" style="border:none">
                <img ng-src="{{user.profilePicUrl}}" alt="{{user.name}}" id='0'>
                <br>
                <h2><strong>{{user.name}}</strong></h2>
                <p style="padding-top:3px"></p>
                <div><p>{{user.description}}</p></div>
                <div ng-if="checkUser(user.userId)">
                  <!-- <button class="button icon ion-gear-a" ng-if="checkUser(user.userId) === 'user'"></button> -->
                  <button class="{{btnClass.btn}}" ng-click="handleUser(btnClass.info)">{{btnClass.userStats}}</button>
                  <!--
                  <button ng-if="checkUser(user.userId) === 'Nfollower' || checkUser(user.userId) === 'follower'" class="{{btnClass.btn}}" ng-click= "follow(user.userId, myToken)">{{btnClass.userStats}}</button>
                  <button ng-if="checkUser(user.userId) === 'following' " class="{{btnClass.btn}}" ng-click="unfollow(user.userId, myToken)">{{btnClass.userStats}}</button>
                  <button ng-if="checkUser(user.userId) === 'Mfollower'" class="{{btnClass.btn}}" ng-click="unfollow(user.userId, myToken)">{{btnClass.userStats}}</button> -->
                </div>
            </a>
        </div>
        <!-- switch views tab -->
        <div class="tabs tabs-stable static">
            <a class="tab-item" ng-click="select(1)">{{pics.length}} Photos</a>
            <a class="tab-item" ng-click="select(3)">{{followers.length}} Followers</a>
            <a class="tab-item" ng-if="myId === user.userId" ng-click="select(4)">{{following.length}} Following</a>

        </div>
<!--
        <div class="button-bar button-block">
            <a class="button" style="box-shadow: 2px 2px 2px #888888;" ng-click="select(1)"><p>{{numOfUserPics(user.id)}} photos</p></a>
            <a class="button" style="box-shadow: 2px 2px 2px #888888;" ng-click="select(3)"><p>Followers {{user.followers.length}}</p></a>
            <a class="button" style="box-shadow: 2px 2px 2px #888888;" ng-if="user.id === myUser" ng-click="select(4)"><p>Following {{user.friends.length}}</p></a>
        </div>
      -->
        <!-- photos buttom (list view) -->
        <div ng-if="isSelected(1)">
            <div class="row" ng-repeat="photo in pics" ng-if="$index % 2 === 0">
                <div class="col col-50 item item-image" ng-if="$index+1 < pics.length" ng-click="switchToFeed(photo.id, user.userId)">
                    <img ng-src="{{ pics[$index].picUrl}}" class="profileGallery">
                </div>
                <div class="col col-50 item item-image" ng-if="$index+1 < pics.length" ng-click="switchToFeed(photo.id, user.userId)">
                    <img ng-src="{{pics[$index+1].picUrl}}" class="profileGallery">
                </div>

            </div>
            <!--
            <div class="row" ng-repeat="photo in pics" ng-if="$index % 2 != 0">
                <div class="col col-50 item item-image">
                    <img ng-src="{{pics[pics.length-1].picUrl}}" width="100%">
                </div>
            </div>
            -->
        </div>


        <div class="list" ng-if="isSelected(2)">
            <p>Public pictures</p>
        </div>
        <div class="list" ng-if="isSelected(3)" ng-repeat="follower in followers">
            <a class="item item-avatar" ui-sref="app.profile({id:follower.id})">
                <img ng-src="{{follower.profilemediumPath}}">
                <h2>{{follower.name}} {{follower.lastName}}</h2>
                <br>
                <div ng-if="myId !== follower.id">
                  <div ng-if="myId === user.userId">
                    <button ng-if="isFollower(follower.id) && isFollowing(follower.id)" class="button button-small button-balanced" ng-click="unfollow(follower.id, myToken)">Mutual Follower</button>
                    <button ng-if="!isFollowing(follower.id) && isFollower(follower.id)" class="button button-small button-stable" ng-click="follow(follower.id, myToken)">Follow</button>
                  </div>
                  <div ng-if="myId !== user.userId">
                    <button ng-if="isFollower(follower.id) && isFollowing(follower.id)" class="button button-small button-balanced" ng-click="unfollow(follower.id, myToken)">Mutual Follower</button>
                    <button ng-if="!isFollowing(follower.id)" class="button button-small button-stable" ng-click="follow(follower.id, myToken)">Follow</button>
                    <button ng-if="!isFollower(friend.id) && isFollowing(friend.id)" class="button button-small button-positive" ng-click="unfollow(friend.id, myToken)">Following</button>

                  </div>
                </div>
            </a>
        </div>

        <div class="list" ng-if="isSelected(4)" ng-repeat="friend in following">
            <a class="item item-avatar" ui-sref="app.profile({id:friend.id})">
                <img ng-src="{{friend.profilemediumPath}}">
                <h2>{{friend.name}} {{friend.lastName}}</h2>
                <br>
                <div ng-if="friend.id !== myId">
                <button ng-if="!isFollowing(friend.id)" class="button button-small button-stable" ng-click= "follow(friend.id, myToken)">Follow</button>
                <button ng-if="!isFollower(friend.id) && isFollowing(friend.id)" class="button button-small button-positive" ng-click="unfollow(friend.id, myToken)">Following</button>
                <button ng-if="isFollowing(friend.id) && isFollower(friend.id)" class="button button-small button-balanced" ng-click="unfollow(friend.id, myToken)">Mutual Follower</button>
                </div>
            </a>
        </div>










    </ion-content>
</ion-view>
